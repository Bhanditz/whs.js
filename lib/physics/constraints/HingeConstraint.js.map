{"version":3,"sources":["physics/constraints/HingeConstraint.js"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;;;;IAEa,e,WAAA,e;AACX,2BAAY,OAAZ,EAAqB,OAArB,EAA8B,QAA9B,EAAwC,IAAxC,EAA8C;AAAA;;AAC5C,QAAI,SAAS,SAAb,EAAwB;AACtB,aAAO,QAAP;AACA,iBAAW,OAAX;AACA,gBAAU,SAAV;AACD;;AAED,SAAK,IAAL,GAAY,OAAZ;AACA,SAAK,cAAL,GAAsB,CAAtB;AACA,SAAK,EAAL,GAAU,uBAAV;AACA,SAAK,KAAL,GAAa,QAAQ,MAArB;AACA,SAAK,OAAL,GAAe,QAAQ,QAAR,CAAiB,EAAhC;AACA,SAAK,SAAL,GAAiB,uCAA6B,QAA7B,EAAuC,OAAvC,EAAgD,KAAhD,EAAjB;AACA,SAAK,QAAL,GAAgB,SAAS,KAAT,EAAhB;AACA,SAAK,IAAL,GAAY,IAAZ;;AAEA,QAAI,OAAJ,EAAa;AACX,WAAK,OAAL,GAAe,QAAQ,QAAR,CAAiB,EAAhC;AACA,WAAK,SAAL,GAAiB,uCAA6B,QAA7B,EAAuC,OAAvC,EAAgD,KAAhD,EAAjB;AACD;AACF;;;;oCAEe;AACd,aAAO;AACL,cAAM,KAAK,IADN;AAEL,YAAI,KAAK,EAFJ;AAGL,iBAAS,KAAK,OAHT;AAIL,iBAAS,KAAK,OAJT;AAKL,mBAAW,KAAK,SALX;AAML,mBAAW,KAAK,SANX;AAOL,cAAM,KAAK;AAPN,OAAP;AASD;;;8BAES,G,EAAK,I,EAAM,W,EAAa,iB,EAAmB;AACnD,WAAK,KAAL,CAAW,OAAX,CAAmB,iBAAnB,EAAsC;AACpC,oBAAY,KAAK,EADmB;AAEpC,gBAFoC;AAGpC,kBAHoC;AAIpC,gCAJoC;AAKpC;AALoC,OAAtC;AAOD;;;uCAEkB,Q,EAAU,Y,EAAc;AACzC,WAAK,KAAL,CAAW,OAAX,CAAmB,0BAAnB,EAA+C;AAC7C,oBAAY,KAAK,EAD4B;AAE7C,0BAF6C;AAG7C;AAH6C,OAA/C;AAKD;;;mCAEc;AACb,WAAK,KAAL,CAAW,OAAX,CAAmB,oBAAnB,EAAyC,EAAC,YAAY,KAAK,EAAlB,EAAzC;AACD","file":"HingeConstraint.js","sourcesContent":["import {convertWorldPositionToObject, getObjectId} from '../api';\n\nexport class HingeConstraint {\n  constructor(objecta, objectb, position, axis) {\n    if (axis === undefined) {\n      axis = position;\n      position = objectb;\n      objectb = undefined;\n    }\n\n    this.type = 'hinge';\n    this.appliedImpulse = 0;\n    this.id = getObjectId();\n    this.scene = objecta.parent;\n    this.objecta = objecta._physijs.id;\n    this.positiona = convertWorldPositionToObject(position, objecta).clone();\n    this.position = position.clone();\n    this.axis = axis;\n\n    if (objectb) {\n      this.objectb = objectb._physijs.id;\n      this.positionb = convertWorldPositionToObject(position, objectb).clone();\n    }\n  }\n\n  getDefinition() {\n    return {\n      type: this.type,\n      id: this.id,\n      objecta: this.objecta,\n      objectb: this.objectb,\n      positiona: this.positiona,\n      positionb: this.positionb,\n      axis: this.axis\n    };\n  }\n\n  setLimits(low, high, bias_factor, relaxation_factor) {\n    this.scene.execute('hinge_setLimits', {\n      constraint: this.id,\n      low,\n      high,\n      bias_factor,\n      relaxation_factor\n    });\n  }\n\n  enableAngularMotor(velocity, acceleration) {\n    this.scene.execute('hinge_enableAngularMotor', {\n      constraint: this.id,\n      velocity,\n      acceleration\n    });\n  }\n\n  disableMotor() {\n    this.scene.execute('hinge_disableMotor', {constraint: this.id});\n  }\n}\n"]}