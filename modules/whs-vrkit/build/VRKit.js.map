{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 66f92924945146c42bfa","webpack:///./src/lib/VRControls.js","webpack:///./src/lib/VREffect.js","webpack:///./src/lib/WebVR.js","webpack:///external \"WHS\"","webpack:///./src/index.js"],"names":["VRControls","object","onError","scope","vrDisplay","vrDisplays","standingMatrix","THREE","Matrix4","frameData","window","VRFrameData","gotVRDisplays","displays","length","navigator","getVRDisplays","then","catch","console","warn","scale","standing","userHeight","getVRDisplay","setVRDisplay","value","getStandingMatrix","update","pose","getFrameData","getPose","orientation","quaternion","fromArray","position","set","stageParameters","updateMatrix","sittingToStandingTransform","applyMatrix","setY","y","multiplyScalar","dispose","VREffect","renderer","eyeTranslationL","Vector3","eyeTranslationR","renderRectL","renderRectR","isPresenting","rendererSize","getSize","rendererUpdateStyle","rendererPixelRatio","getPixelRatio","setSize","width","height","updateStyle","eyeParamsL","getEyeParameters","setPixelRatio","renderWidth","renderHeight","canvas","domElement","requestFullscreen","exitFullscreen","fullscreenElement","defaultLeftBounds","defaultRightBounds","onVRDisplayPresentChange","wasPresenting","undefined","eyeWidth","eyeHeight","addEventListener","setFullScreen","boolean","Promise","resolve","reject","Error","requestPresent","source","exitPresent","requestAnimationFrame","f","cancelAnimationFrame","h","submitFrame","autoSubmitFrame","cameraL","PerspectiveCamera","layers","enable","cameraR","render","scene","camera","renderTarget","forceClear","autoUpdate","updateMatrixWorld","eyeParamsR","offset","Array","isArray","size","getLayers","leftBounds","rightBounds","layer","x","Math","round","setRenderTarget","scissorTest","setScissorTest","autoClear","clear","parent","matrixWorld","decompose","translateOnAxis","depthNear","near","depthFar","far","projectionMatrix","elements","leftProjectionMatrix","rightProjectionMatrix","fovToProjection","fieldOfView","viewport","scissor","setViewport","setScissor","removeEventListener","fovToNDCScaleOffset","fov","pxscale","leftTan","rightTan","pxoffset","pyscale","upTan","downTan","pyoffset","fovPortToProjection","rightHanded","zNear","zFar","handednessScale","mobj","m","scaleAndOffset","transpose","DEG2RAD","PI","fovPort","tan","upDegrees","downDegrees","leftDegrees","rightDegrees","WEBVR","isAvailable","checkAvailability","onDisplay","getMessage","message","container","document","createElement","style","left","top","right","zIndex","align","error","fontFamily","fontSize","fontStyle","lineHeight","backgroundColor","color","padding","margin","display","innerHTML","appendChild","getMessageContainer","getButton","button","bottom","border","cursor","textAlign","textContent","onclick","VRModule","params","Object","assign","manager","rendering","use","get","resize","effect","log","addCallback","body","intensity","controls","native"],"mappings":"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","file":"VRKit.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"WHS\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"WHS\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VRKit\"] = factory(require(\"WHS\"));\n\telse\n\t\troot[\"VRKit\"] = factory(root[\"WHS\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 66f92924945146c42bfa","/**\n * @author dmarcos / https://github.com/dmarcos\n * @author mrdoob / http://mrdoob.com\n */\n\nexport const VRControls = function ( object, onError ) {\n\n\tvar scope = this;\n\n\tvar vrDisplay, vrDisplays;\n\n\tvar standingMatrix = new THREE.Matrix4();\n\n\tvar frameData = null;\n\n\tif ( 'VRFrameData' in window ) {\n\n\t\tframeData = new VRFrameData();\n\n\t}\n\n\tfunction gotVRDisplays( displays ) {\n\n\t\tvrDisplays = displays;\n\n\t\tif ( displays.length > 0 ) {\n\n\t\t\tvrDisplay = displays[ 0 ];\n\n\t\t} else {\n\n\t\t\tif ( onError ) onError( 'VR input not available.' );\n\n\t\t}\n\n\t}\n\n\tif ( navigator.getVRDisplays ) {\n\n\t\tnavigator.getVRDisplays().then( gotVRDisplays ).catch( function () {\n\n\t\t\tconsole.warn( 'THREE.VRControls: Unable to get VR Displays' );\n\n\t\t} );\n\n\t}\n\n\t// the Rift SDK returns the position in meters\n\t// this scale factor allows the user to define how meters\n\t// are converted to scene units.\n\n\tthis.scale = 1;\n\n\t// If true will use \"standing space\" coordinate system where y=0 is the\n\t// floor and x=0, z=0 is the center of the room.\n\tthis.standing = false;\n\n\t// Distance from the users eyes to the floor in meters. Used when\n\t// standing=true but the VRDisplay doesn't provide stageParameters.\n\tthis.userHeight = 1.6;\n\n\tthis.getVRDisplay = function () {\n\n\t\treturn vrDisplay;\n\n\t};\n\n\tthis.setVRDisplay = function ( value ) {\n\n\t\tvrDisplay = value;\n\n\t};\n\n\tthis.getVRDisplays = function () {\n\n\t\tconsole.warn( 'THREE.VRControls: getVRDisplays() is being deprecated.' );\n\t\treturn vrDisplays;\n\n\t};\n\n\tthis.getStandingMatrix = function () {\n\n\t\treturn standingMatrix;\n\n\t};\n\n\tthis.update = function () {\n\n\t\tif ( vrDisplay ) {\n\n\t\t\tvar pose;\n\n\t\t\tif ( vrDisplay.getFrameData ) {\n\n\t\t\t\tvrDisplay.getFrameData( frameData );\n\t\t\t\tpose = frameData.pose;\n\n\t\t\t} else if ( vrDisplay.getPose ) {\n\n\t\t\t\tpose = vrDisplay.getPose();\n\n\t\t\t}\n\n\t\t\tif ( pose.orientation !== null ) {\n\n\t\t\t\tobject.quaternion.fromArray( pose.orientation );\n\n\t\t\t}\n\n\t\t\tif ( pose.position !== null ) {\n\n\t\t\t\tobject.position.fromArray( pose.position );\n\n\t\t\t} else {\n\n\t\t\t\tobject.position.set( 0, 0, 0 );\n\n\t\t\t}\n\n\t\t\tif ( this.standing ) {\n\n\t\t\t\tif ( vrDisplay.stageParameters ) {\n\n\t\t\t\t\tobject.updateMatrix();\n\n\t\t\t\t\tstandingMatrix.fromArray( vrDisplay.stageParameters.sittingToStandingTransform );\n\t\t\t\t\tobject.applyMatrix( standingMatrix );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tobject.position.setY( object.position.y + this.userHeight );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tobject.position.multiplyScalar( scope.scale );\n\n\t\t}\n\n\t};\n\n\tthis.dispose = function () {\n\n\t\tvrDisplay = null;\n\n\t};\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/VRControls.js","/**\n * @author dmarcos / https://github.com/dmarcos\n * @author mrdoob / http://mrdoob.com\n *\n * WebVR Spec: http://mozvr.github.io/webvr-spec/webvr.html\n *\n * Firefox: http://mozvr.com/downloads/\n * Chromium: https://webvr.info/get-chrome\n *\n */\n\nexport const VREffect = function ( renderer, onError ) {\n\n\tvar vrDisplay, vrDisplays;\n\tvar eyeTranslationL = new THREE.Vector3();\n\tvar eyeTranslationR = new THREE.Vector3();\n\tvar renderRectL, renderRectR;\n\n\tvar frameData = null;\n\n\tif ( 'VRFrameData' in window ) {\n\n\t\tframeData = new VRFrameData();\n\n\t}\n\n\tfunction gotVRDisplays( displays ) {\n\n\t\tvrDisplays = displays;\n\n\t\tif ( displays.length > 0 ) {\n\n\t\t\tvrDisplay = displays[ 0 ];\n\n\t\t} else {\n\n\t\t\tif ( onError ) onError( 'HMD not available' );\n\n\t\t}\n\n\t}\n\n\tif ( navigator.getVRDisplays ) {\n\n\t\tnavigator.getVRDisplays().then( gotVRDisplays ).catch ( function () {\n\n\t\t\tconsole.warn( 'THREE.VREffect: Unable to get VR Displays' );\n\n\t\t} );\n\n\t}\n\n\t//\n\n\tthis.isPresenting = false;\n\tthis.scale = 1;\n\n\tvar scope = this;\n\n\tvar rendererSize = renderer.getSize();\n\tvar rendererUpdateStyle = false;\n\tvar rendererPixelRatio = renderer.getPixelRatio();\n\n\tthis.getVRDisplay = function () {\n\n\t\treturn vrDisplay;\n\n\t};\n\n\tthis.setVRDisplay = function ( value ) {\n\n\t\tvrDisplay = value;\n\n\t};\n\n\tthis.getVRDisplays = function () {\n\n\t\tconsole.warn( 'THREE.VREffect: getVRDisplays() is being deprecated.' );\n\t\treturn vrDisplays;\n\n\t};\n\n\tthis.setSize = function ( width, height, updateStyle ) {\n\n\t\trendererSize = { width: width, height: height };\n\t\trendererUpdateStyle = updateStyle;\n\n\t\tif ( scope.isPresenting ) {\n\n\t\t\tvar eyeParamsL = vrDisplay.getEyeParameters( 'left' );\n\t\t\trenderer.setPixelRatio( 1 );\n\t\t\trenderer.setSize( eyeParamsL.renderWidth * 2, eyeParamsL.renderHeight, false );\n\n\t\t} else {\n\n\t\t\trenderer.setPixelRatio( rendererPixelRatio );\n\t\t\trenderer.setSize( width, height, updateStyle );\n\n\t\t}\n\n\t};\n\n\t// fullscreen\n\n\tvar canvas = renderer.domElement;\n\tvar requestFullscreen;\n\tvar exitFullscreen;\n\tvar fullscreenElement;\n\tvar defaultLeftBounds = [ 0.0, 0.0, 0.5, 1.0 ];\n\tvar defaultRightBounds = [ 0.5, 0.0, 0.5, 1.0 ];\n\n\tfunction onVRDisplayPresentChange() {\n\n\t\tvar wasPresenting = scope.isPresenting;\n\t\tscope.isPresenting = vrDisplay !== undefined && vrDisplay.isPresenting;\n\n\t\tif ( scope.isPresenting ) {\n\n\t\t\tvar eyeParamsL = vrDisplay.getEyeParameters( 'left' );\n\t\t\tvar eyeWidth = eyeParamsL.renderWidth;\n\t\t\tvar eyeHeight = eyeParamsL.renderHeight;\n\n\t\t\tif ( !wasPresenting ) {\n\n\t\t\t\trendererPixelRatio = renderer.getPixelRatio();\n\t\t\t\trendererSize = renderer.getSize();\n\n\t\t\t\trenderer.setPixelRatio( 1 );\n\t\t\t\trenderer.setSize( eyeWidth * 2, eyeHeight, false );\n\n\t\t\t}\n\n\t\t} else if ( wasPresenting ) {\n\n\t\t\trenderer.setPixelRatio( rendererPixelRatio );\n\t\t\trenderer.setSize( rendererSize.width, rendererSize.height, rendererUpdateStyle );\n\n\t\t}\n\n\t}\n\n\twindow.addEventListener( 'vrdisplaypresentchange', onVRDisplayPresentChange, false );\n\n\tthis.setFullScreen = function ( boolean ) {\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tif ( vrDisplay === undefined ) {\n\n\t\t\t\treject( new Error( 'No VR hardware found.' ) );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tif ( scope.isPresenting === boolean ) {\n\n\t\t\t\tresolve();\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tif ( boolean ) {\n\n\t\t\t\tresolve( vrDisplay.requestPresent( [ { source: canvas } ] ) );\n\n\t\t\t} else {\n\n\t\t\t\tresolve( vrDisplay.exitPresent() );\n\n\t\t\t}\n\n\t\t} );\n\n\t};\n\n\tthis.requestPresent = function () {\n\n\t\treturn this.setFullScreen( true );\n\n\t};\n\n\tthis.exitPresent = function () {\n\n\t\treturn this.setFullScreen( false );\n\n\t};\n\n\tthis.requestAnimationFrame = function ( f ) {\n\n\t\tif ( vrDisplay !== undefined ) {\n\n\t\t\treturn vrDisplay.requestAnimationFrame( f );\n\n\t\t} else {\n\n\t\t\treturn window.requestAnimationFrame( f );\n\n\t\t}\n\n\t};\n\n\tthis.cancelAnimationFrame = function ( h ) {\n\n\t\tif ( vrDisplay !== undefined ) {\n\n\t\t\tvrDisplay.cancelAnimationFrame( h );\n\n\t\t} else {\n\n\t\t\twindow.cancelAnimationFrame( h );\n\n\t\t}\n\n\t};\n\n\tthis.submitFrame = function () {\n\n\t\tif ( vrDisplay !== undefined && scope.isPresenting ) {\n\n\t\t\tvrDisplay.submitFrame();\n\n\t\t}\n\n\t};\n\n\tthis.autoSubmitFrame = true;\n\n\t// render\n\n\tvar cameraL = new THREE.PerspectiveCamera();\n\tcameraL.layers.enable( 1 );\n\n\tvar cameraR = new THREE.PerspectiveCamera();\n\tcameraR.layers.enable( 2 );\n\n\tthis.render = function ( scene, camera, renderTarget, forceClear ) {\n\n\t\tif ( vrDisplay && scope.isPresenting ) {\n\n\t\t\tvar autoUpdate = scene.autoUpdate;\n\n\t\t\tif ( autoUpdate ) {\n\n\t\t\t\tscene.updateMatrixWorld();\n\t\t\t\tscene.autoUpdate = false;\n\n\t\t\t}\n\n\t\t\tvar eyeParamsL = vrDisplay.getEyeParameters( 'left' );\n\t\t\tvar eyeParamsR = vrDisplay.getEyeParameters( 'right' );\n\n\t\t\teyeTranslationL.fromArray( eyeParamsL.offset );\n\t\t\teyeTranslationR.fromArray( eyeParamsR.offset );\n\n\t\t\tif ( Array.isArray( scene ) ) {\n\n\t\t\t\tconsole.warn( 'THREE.VREffect.render() no longer supports arrays. Use object.layers instead.' );\n\t\t\t\tscene = scene[ 0 ];\n\n\t\t\t}\n\n\t\t\t// When rendering we don't care what the recommended size is, only what the actual size\n\t\t\t// of the backbuffer is.\n\t\t\tvar size = renderer.getSize();\n\t\t\tvar layers = vrDisplay.getLayers();\n\t\t\tvar leftBounds;\n\t\t\tvar rightBounds;\n\n\t\t\tif ( layers.length ) {\n\n\t\t\t\tvar layer = layers[ 0 ];\n\n\t\t\t\tleftBounds = layer.leftBounds !== null && layer.leftBounds.length === 4 ? layer.leftBounds : defaultLeftBounds;\n\t\t\t\trightBounds = layer.rightBounds !== null && layer.rightBounds.length === 4 ? layer.rightBounds : defaultRightBounds;\n\n\t\t\t} else {\n\n\t\t\t\tleftBounds = defaultLeftBounds;\n\t\t\t\trightBounds = defaultRightBounds;\n\n\t\t\t}\n\n\t\t\trenderRectL = {\n\t\t\t\tx: Math.round( size.width * leftBounds[ 0 ] ),\n\t\t\t\ty: Math.round( size.height * leftBounds[ 1 ] ),\n\t\t\t\twidth: Math.round( size.width * leftBounds[ 2 ] ),\n\t\t\t\theight: Math.round(size.height * leftBounds[ 3 ] )\n\t\t\t};\n\t\t\trenderRectR = {\n\t\t\t\tx: Math.round( size.width * rightBounds[ 0 ] ),\n\t\t\t\ty: Math.round( size.height * rightBounds[ 1 ] ),\n\t\t\t\twidth: Math.round( size.width * rightBounds[ 2 ] ),\n\t\t\t\theight: Math.round(size.height * rightBounds[ 3 ] )\n\t\t\t};\n\n\t\t\tif ( renderTarget ) {\n\n\t\t\t\trenderer.setRenderTarget( renderTarget );\n\t\t\t\trenderTarget.scissorTest = true;\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setRenderTarget( null );\n\t\t\t\trenderer.setScissorTest( true );\n\n\t\t\t}\n\n\t\t\tif ( renderer.autoClear || forceClear ) renderer.clear();\n\n\t\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\t\tcamera.matrixWorld.decompose( cameraL.position, cameraL.quaternion, cameraL.scale );\n\t\t\tcamera.matrixWorld.decompose( cameraR.position, cameraR.quaternion, cameraR.scale );\n\n\t\t\tvar scale = this.scale;\n\t\t\tcameraL.translateOnAxis( eyeTranslationL, scale );\n\t\t\tcameraR.translateOnAxis( eyeTranslationR, scale );\n\n\t\t\tif ( vrDisplay.getFrameData ) {\n\n\t\t\t\tvrDisplay.depthNear = camera.near;\n\t\t\t\tvrDisplay.depthFar = camera.far;\n\n\t\t\t\tvrDisplay.getFrameData( frameData );\n\n\t\t\t\tcameraL.projectionMatrix.elements = frameData.leftProjectionMatrix;\n\t\t\t\tcameraR.projectionMatrix.elements = frameData.rightProjectionMatrix;\n\n\t\t\t} else {\n\n\t\t\t\tcameraL.projectionMatrix = fovToProjection( eyeParamsL.fieldOfView, true, camera.near, camera.far );\n\t\t\t\tcameraR.projectionMatrix = fovToProjection( eyeParamsR.fieldOfView, true, camera.near, camera.far );\n\n\t\t\t}\n\n\t\t\t// render left eye\n\t\t\tif ( renderTarget ) {\n\n\t\t\t\trenderTarget.viewport.set( renderRectL.x, renderRectL.y, renderRectL.width, renderRectL.height );\n\t\t\t\trenderTarget.scissor.set( renderRectL.x, renderRectL.y, renderRectL.width, renderRectL.height );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setViewport( renderRectL.x, renderRectL.y, renderRectL.width, renderRectL.height );\n\t\t\t\trenderer.setScissor( renderRectL.x, renderRectL.y, renderRectL.width, renderRectL.height );\n\n\t\t\t}\n\t\t\trenderer.render( scene, cameraL, renderTarget, forceClear );\n\n\t\t\t// render right eye\n\t\t\tif ( renderTarget ) {\n\n\t\t\t\trenderTarget.viewport.set( renderRectR.x, renderRectR.y, renderRectR.width, renderRectR.height );\n\t\t\t\trenderTarget.scissor.set( renderRectR.x, renderRectR.y, renderRectR.width, renderRectR.height );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setViewport( renderRectR.x, renderRectR.y, renderRectR.width, renderRectR.height );\n\t\t\t\trenderer.setScissor( renderRectR.x, renderRectR.y, renderRectR.width, renderRectR.height );\n\n\t\t\t}\n\t\t\trenderer.render( scene, cameraR, renderTarget, forceClear );\n\n\t\t\tif ( renderTarget ) {\n\n\t\t\t\trenderTarget.viewport.set( 0, 0, size.width, size.height );\n\t\t\t\trenderTarget.scissor.set( 0, 0, size.width, size.height );\n\t\t\t\trenderTarget.scissorTest = false;\n\t\t\t\trenderer.setRenderTarget( null );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setViewport( 0, 0, size.width, size.height );\n\t\t\t\trenderer.setScissorTest( false );\n\n\t\t\t}\n\n\t\t\tif ( autoUpdate ) {\n\n\t\t\t\tscene.autoUpdate = true;\n\n\t\t\t}\n\n\t\t\tif ( scope.autoSubmitFrame ) {\n\n\t\t\t\tscope.submitFrame();\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// Regular render mode if not HMD\n\n\t\trenderer.render( scene, camera, renderTarget, forceClear );\n\n\t};\n\n\tthis.dispose = function () {\n\n\t\twindow.removeEventListener( 'vrdisplaypresentchange', onVRDisplayPresentChange, false );\n\n\t};\n\n\t//\n\n\tfunction fovToNDCScaleOffset( fov ) {\n\n\t\tvar pxscale = 2.0 / ( fov.leftTan + fov.rightTan );\n\t\tvar pxoffset = ( fov.leftTan - fov.rightTan ) * pxscale * 0.5;\n\t\tvar pyscale = 2.0 / ( fov.upTan + fov.downTan );\n\t\tvar pyoffset = ( fov.upTan - fov.downTan ) * pyscale * 0.5;\n\t\treturn { scale: [ pxscale, pyscale ], offset: [ pxoffset, pyoffset ] };\n\n\t}\n\n\tfunction fovPortToProjection( fov, rightHanded, zNear, zFar ) {\n\n\t\trightHanded = rightHanded === undefined ? true : rightHanded;\n\t\tzNear = zNear === undefined ? 0.01 : zNear;\n\t\tzFar = zFar === undefined ? 10000.0 : zFar;\n\n\t\tvar handednessScale = rightHanded ? - 1.0 : 1.0;\n\n\t\t// start with an identity matrix\n\t\tvar mobj = new THREE.Matrix4();\n\t\tvar m = mobj.elements;\n\n\t\t// and with scale/offset info for normalized device coords\n\t\tvar scaleAndOffset = fovToNDCScaleOffset( fov );\n\n\t\t// X result, map clip edges to [-w,+w]\n\t\tm[ 0 * 4 + 0 ] = scaleAndOffset.scale[ 0 ];\n\t\tm[ 0 * 4 + 1 ] = 0.0;\n\t\tm[ 0 * 4 + 2 ] = scaleAndOffset.offset[ 0 ] * handednessScale;\n\t\tm[ 0 * 4 + 3 ] = 0.0;\n\n\t\t// Y result, map clip edges to [-w,+w]\n\t\t// Y offset is negated because this proj matrix transforms from world coords with Y=up,\n\t\t// but the NDC scaling has Y=down (thanks D3D?)\n\t\tm[ 1 * 4 + 0 ] = 0.0;\n\t\tm[ 1 * 4 + 1 ] = scaleAndOffset.scale[ 1 ];\n\t\tm[ 1 * 4 + 2 ] = - scaleAndOffset.offset[ 1 ] * handednessScale;\n\t\tm[ 1 * 4 + 3 ] = 0.0;\n\n\t\t// Z result (up to the app)\n\t\tm[ 2 * 4 + 0 ] = 0.0;\n\t\tm[ 2 * 4 + 1 ] = 0.0;\n\t\tm[ 2 * 4 + 2 ] = zFar / ( zNear - zFar ) * - handednessScale;\n\t\tm[ 2 * 4 + 3 ] = ( zFar * zNear ) / ( zNear - zFar );\n\n\t\t// W result (= Z in)\n\t\tm[ 3 * 4 + 0 ] = 0.0;\n\t\tm[ 3 * 4 + 1 ] = 0.0;\n\t\tm[ 3 * 4 + 2 ] = handednessScale;\n\t\tm[ 3 * 4 + 3 ] = 0.0;\n\n\t\tmobj.transpose();\n\n\t\treturn mobj;\n\n\t}\n\n\tfunction fovToProjection( fov, rightHanded, zNear, zFar ) {\n\n\t\tvar DEG2RAD = Math.PI / 180.0;\n\n\t\tvar fovPort = {\n\t\t\tupTan: Math.tan( fov.upDegrees * DEG2RAD ),\n\t\t\tdownTan: Math.tan( fov.downDegrees * DEG2RAD ),\n\t\t\tleftTan: Math.tan( fov.leftDegrees * DEG2RAD ),\n\t\t\trightTan: Math.tan( fov.rightDegrees * DEG2RAD )\n\t\t};\n\n\t\treturn fovPortToProjection( fovPort, rightHanded, zNear, zFar );\n\n\t}\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/VREffect.js","/**\n * @author mrdoob / http://mrdoob.com\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Based on @tojiro's vr-samples-utils.js\n */\n\nexport const WEBVR = {\n\n\tisAvailable: function () {\n\n\t\tconsole.warn( 'WEBVR: isAvailable() is being deprecated. Use .checkAvailability() instead.' );\n\t\treturn navigator.getVRDisplays !== undefined;\n\n\t},\n\n\tcheckAvailability: function () {\n\n\t\treturn new Promise( function( resolve, reject ) {\n\n\t\t\tif ( navigator.getVRDisplays !== undefined ) {\n\n\t\t\t\tnavigator.getVRDisplays().then( function ( displays ) {\n\n\t\t\t\t\tif ( displays.length === 0 ) {\n\n\t\t\t\t\t\treject( 'WebVR supported, but no VRDisplays found.' );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tresolve();\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t} else {\n\n\t\t\t\treject( 'Your browser does not support WebVR. See <a href=\"https://webvr.info\">webvr.info</a> for assistance.' );\n\n\t\t\t}\n\n\t\t} );\n\n\t},\n\n\tgetVRDisplay: function ( onDisplay ) {\n\n\t\tif ( 'getVRDisplays' in navigator ) {\n\n\t\t\tnavigator.getVRDisplays()\n\t\t\t\t.then( function ( displays ) {\n\t\t\t\t\tonDisplay( displays[ 0 ] );\n\t\t\t\t} );\n\n\t\t}\n\n\t},\n\n\tgetMessage: function () {\n\n\t\tconsole.warn( 'WEBVR: getMessage() is being deprecated. Use .getMessageContainer( message ) instead.' );\n\n\t\tvar message;\n\n\t\tif ( navigator.getVRDisplays ) {\n\n\t\t\tnavigator.getVRDisplays().then( function ( displays ) {\n\n\t\t\t\tif ( displays.length === 0 ) message = 'WebVR supported, but no VRDisplays found.';\n\n\t\t\t} );\n\n\t\t} else {\n\n\t\t\tmessage = 'Your browser does not support WebVR. See <a href=\"http://webvr.info\">webvr.info</a> for assistance.';\n\n\t\t}\n\n\t\tif ( message !== undefined ) {\n\n\t\t\tvar container = document.createElement( 'div' );\n\t\t\tcontainer.style.position = 'absolute';\n\t\t\tcontainer.style.left = '0';\n\t\t\tcontainer.style.top = '0';\n\t\t\tcontainer.style.right = '0';\n\t\t\tcontainer.style.zIndex = '999';\n\t\t\tcontainer.align = 'center';\n\n\t\t\tvar error = document.createElement( 'div' );\n\t\t\terror.style.fontFamily = 'sans-serif';\n\t\t\terror.style.fontSize = '16px';\n\t\t\terror.style.fontStyle = 'normal';\n\t\t\terror.style.lineHeight = '26px';\n\t\t\terror.style.backgroundColor = '#fff';\n\t\t\terror.style.color = '#000';\n\t\t\terror.style.padding = '10px 20px';\n\t\t\terror.style.margin = '50px';\n\t\t\terror.style.display = 'inline-block';\n\t\t\terror.innerHTML = message;\n\t\t\tcontainer.appendChild( error );\n\n\t\t\treturn container;\n\n\t\t}\n\n\t},\n\n\tgetMessageContainer: function ( message ) {\n\n\t\tvar container = document.createElement( 'div' );\n\t\tcontainer.style.position = 'absolute';\n\t\tcontainer.style.left = '0';\n\t\tcontainer.style.top = '0';\n\t\tcontainer.style.right = '0';\n\t\tcontainer.style.zIndex = '999';\n\t\tcontainer.align = 'center';\n\n\t\tvar error = document.createElement( 'div' );\n\t\terror.style.fontFamily = 'sans-serif';\n\t\terror.style.fontSize = '16px';\n\t\terror.style.fontStyle = 'normal';\n\t\terror.style.lineHeight = '26px';\n\t\terror.style.backgroundColor = '#fff';\n\t\terror.style.color = '#000';\n\t\terror.style.padding = '10px 20px';\n\t\terror.style.margin = '50px';\n\t\terror.style.display = 'inline-block';\n\t\terror.innerHTML = message;\n\t\tcontainer.appendChild( error );\n\n\t\treturn container;\n\n\t},\n\n\tgetButton: function ( display, canvas ) {\n\n\t\tif ( 'VREffect' in THREE && display instanceof THREE.VREffect ) {\n\n\t\t\tconsole.error( 'WebVR.getButton() now expects a VRDisplay.' );\n\t\t\treturn document.createElement( 'button' );\n\n\t\t}\n\n\t\tvar button = document.createElement( 'button' );\n\t\tbutton.style.position = 'absolute';\n\t\tbutton.style.left = 'calc(50% - 50px)';\n\t\tbutton.style.bottom = '20px';\n\t\tbutton.style.width = '100px';\n\t\tbutton.style.border = '0';\n\t\tbutton.style.padding = '8px';\n\t\tbutton.style.cursor = 'pointer';\n\t\tbutton.style.backgroundColor = '#000';\n\t\tbutton.style.color = '#fff';\n\t\tbutton.style.fontFamily = 'sans-serif';\n\t\tbutton.style.fontSize = '13px';\n\t\tbutton.style.fontStyle = 'normal';\n\t\tbutton.style.textAlign = 'center';\n\t\tbutton.style.zIndex = '999';\n\n\t\tif ( display ) {\n\n\t\t\tbutton.textContent = 'ENTER VR';\n\t\t\tbutton.onclick = function () {\n\n\t\t\t\tdisplay.isPresenting ? display.exitPresent() : display.requestPresent( [ { source: canvas } ] );\n\n\t\t\t};\n\n\t\t\twindow.addEventListener( 'vrdisplaypresentchange', function () {\n\n\t\t\t\tbutton.textContent = display.isPresenting ? 'EXIT VR' : 'ENTER VR';\n\n\t\t\t}, false );\n\n\t\t} else {\n\n\t\t\tbutton.textContent = 'NO VR DISPLAY';\n\n\t\t}\n\n\t\treturn button;\n\n\t}\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/WebVR.js","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"WHS\"\n// module id = 3\n// module chunks = 0","import {Loop, ControlsModule} from 'whs';\n\nimport {VREffect} from './lib/VREffect';\nimport {VRControls as VRControlsNative} from './lib/VRControls';\nimport {WEBVR} from './lib/WebVR';\n\nexport class VRModule {\n  constructor(params = {}) {\n    this.params = Object.assign(params, {\n      message: true,\n      button: true\n    });\n\n    this.scene = null;\n    this.camera = null;\n  }\n\n  manager(manager) {\n    const rendering = manager.use('rendering');\n    const renderer = manager.get('renderer');\n\n    const resize = manager.use('resize');\n\n    const effect = new VREffect(renderer);\n\n    this.scene = manager.get('scene');\n    this.camera = manager.get('camera');\n\n    rendering.effect(effect);\n\n    // TODO: Fix resize.\n\n    console.log(effect);\n\n    resize.addCallback((width, height) => {\n      effect.setSize(+width, +height);\n    });\n\n    // WEBVR\n    const {message, button} = this.params;\n\n    if (message) WEBVR.checkAvailability().catch(message => {\n\t\t\tdocument.body.appendChild(WEBVR.getMessageContainer(message));\n\t\t});\n\n    if (button) WEBVR.getVRDisplay(display => {\n      document.body.appendChild(WEBVR.getButton(display, renderer.domElement));\n    });\n  }\n}\n\nexport class VRControls extends ControlsModule {\n  constructor({object, onError, intensity}) {\n    const controls = new VRControlsNative(object.native, onError);\n\n    controls.standing = true;\n    controls.scale = intensity;\n\n    super({controls});\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}